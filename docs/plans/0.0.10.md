# 0.0.10 Plan: 功能补齐与执行闭环

## 目标

补齐 AI 执行闭环与可用功能，形成可用的端到端体验。

## 关键任务

### 1) 实现真实 Runner

- [x] 实现 `ShellOpencodeRunner`，通过 `launchSpec` 执行 `opencode`
- [ ] 处理超时与进程回收，避免 worker 卡死

### 2) 回复回路

- [x] 选择一种回路：Redis Pub/Sub 或 response-queue
- [x] Adapter 侧消费并发送消息

### 3) 最小可用能力

- [x] 增加最小健康检查端点（`/health`）
- [x] `key` 解析策略：移除硬编码或明确 MVP 约束

## 验证计划

- [ ] 端到端：消息 -> 队列 -> Worker -> 回复 -> 发送成功
- [ ] 超时：Runner 超时后释放锁并记录错误
- [ ] 部署：Docker Compose 启动后 Adapter/Worker 能正常协作
